@prefix : <http://tbd.data.admin.ch/shacl#> .

@prefix adms: <http://www.w3.org/ns/adms#>.
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dct: <http://purl.org/dc/terms/>.
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix schema: <http://schema.org/>.
@prefix skos: <http://www.w3.org/2004/02/skos/core#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .

<> sh:entailment <http://www.w3.org/ns/entailment/RDFS> .



:DistributionShape
  rdf:type sh:NodeShape ;
  sh:targetClass dcat:Distribution ;
  sh:property [
      sh:path dct:title ;
      sh:nodeKind sh:Literal ;
      sh:severity sh:Violation ;
    ] ;
  sh:property [
      sh:path dct:description ;
      sh:nodeKind sh:Literal ;
      sh:severity sh:Violation ;
    ] ;
  sh:property [
      sh:path dct:publisher ;
      sh:class foaf:Agent ;
      sh:minCount 1 ;
      sh:severity sh:Violation ;
    ] ;
  sh:property [
      sh:path dcat:contactPoint ;
      sh:class vcard:Kind ;
      sh:minCount 1 ;
      sh:severity sh:Violation ;
    ] ;
  sh:property [
      sh:path dct:language ;
      sh:severity sh:Violation ;
    ] ;
  sh:property [
      sh:path dct:issued ;
      sh:maxCount 1 ;
      sh:minCount 1 ;
      sh:severity sh:Violation ;
      sh:node :DateType ;
    ] ;
  sh:property [
      sh:path dct:modified ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
      sh:node :DateType ;
    ] ;
  sh:property [
      sh:path dcat:accessURL ;
      sh:class rdfs:Resource ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
    ] ;
    sh:xone (
        [
          sh:property [
            sh:path dct:license ;
            sh:class dct:LicenseDocument ;
            sh:minCount 1 ;
        	  sh:maxCount 1 ;
          ]
        ]
        [
          sh:property [
            sh:path dct:rights ;
            sh:class dct:RightsStatement ;
  	        sh:minCount 1 ;
        	  sh:maxCount 1 ;
          ]
        ]
    ) ;
  sh:property [
      sh:path dct:identifier ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
      sh:nodeKind sh:Literal ;
    ] ;
  sh:property [
      sh:path dct:downloadURL ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
      sh:class rdfs:Resource ;
    ] ;
  sh:property [
      sh:path dcat:byteSize ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
      sh:class rdfs:Resource ;
    ] ;
  sh:property [
      sh:path dcat:mediaType ;
      sh:class dct:MediaTypeOrExtent ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
    ] ;
  sh:property [
      sh:path dct:format ;
      sh:maxCount 1 ;
      sh:severity sh:Violation ;
      sh:class dct:MediaTypeOrExtent ;
    ] ;
  sh:property [
      sh:path dct:coverage ;
      sh:severity sh:Violation ;
      sh:class dct:LocationPeriodOrJurisdiction ;
    ] ;
  sh:property [
      sh:path schema:image ;
      sh:severity sh:Violation ;
      sh:maxCount 3 ;
      sh:or (
            [
                sh:class schema:URL ;
            ]
            [
                sh:class schema:ImageObject ;
            ]
        )
    ] ;
  sh:property [
      sh:path adms:status ;
      sh:maxCount 0 ;
      sh:severity sh:Violation ;
    ] ;

.

### SHAPES

:DateType
  rdf:type sh:NodeShape ;
  rdfs:comment "Date time date shape checks that a datatype property receives a date or dateTime literal" ;
  rdfs:label "Date" ;
  sh:message "The values must be data typed as xsd:date or xsd:dateTime." ;
  sh:or (
       [
           sh:datatype xsd:date ;
       ]
       [
           sh:datatype xsd:dateTime ;
       ]
   )
.

:DecimalType
  rdf:type sh:NodeShape ;
  rdfs:label "Decimal" ;
  sh:datatype xsd:decimal
.
